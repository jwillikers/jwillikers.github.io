<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Easily Virtualize Ubuntu MATE on macOS With Multipass | JWillikers</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="Easily Virtualize Ubuntu MATE on macOS With Multipass" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Handy admin and dev guides from my myriad of tinkering" />
<meta property="og:description" content="Handy admin and dev guides from my myriad of tinkering" />
<link rel="canonical" href="https://jwillikers.com/easily-virtualize-ubuntu-mate-on-macos-with-multipass-index" />
<meta property="og:url" content="https://jwillikers.com/easily-virtualize-ubuntu-mate-on-macos-with-multipass-index" />
<meta property="og:site_name" content="JWillikers" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-09-13T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Easily Virtualize Ubuntu MATE on macOS With Multipass" />
<script type="application/ld+json">
{"description":"Handy admin and dev guides from my myriad of tinkering","headline":"Easily Virtualize Ubuntu MATE on macOS With Multipass","dateModified":"2020-09-13T00:00:00+00:00","url":"https://jwillikers.com/easily-virtualize-ubuntu-mate-on-macos-with-multipass-index","datePublished":"2020-09-13T00:00:00+00:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://jwillikers.com/easily-virtualize-ubuntu-mate-on-macos-with-multipass-index"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://jwillikers.com/feed.xml" title="JWillikers" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="assets/css/asciidoctor.css"></head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">JWillikers</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Easily Virtualize Ubuntu MATE on macOS With Multipass</h1>
    <p class="post-meta"><time class="dt-published" datetime="2020-09-13T00:00:00+00:00" itemprop="datePublished">
        Sep 13, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="virtualize_ubuntu_mate_on_macos_with_multipass_compressed.jpg" alt="An Ubuntu MATE Desktop Displayed in an RDP Client on macOS Catalina">
</div>
<div class="title">It&#8217;s Always Greener on the MATE Side</div>
</div>
<hr>
<div class="paragraph">
<p>While I was working on my recent post <a href="virtualize_ubuntu_desktop_on_macos_with_qemu.html">Virtualize Ubuntu Desktop on macOS with QEMU</a>, I came across Canonical&#8217;s <a href="https://multipass.run/">Multipass</a> utility.
Multipass makes it extremely simple to spin up Ubuntu instances on the fly whether your on Linux, macOS, and Windows.
While your VM may not be as speedy as with QEMU, I would be remiss for not  doing a quick write-up on this tool which makes it so easy to get up and running.
The main caveat for Multipass is that it is <em>only</em> intended for running Ubuntu and neither other Linux distributions nor other operating systems.
By default on macOS, Multipass uses <a href="https://github.com/moby/hyperkit">Hyperkit</a> behind the scenes.<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tutorial">Tutorial</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Setting up a desktop with Multipass is briefly described <a href="https://discourse.ubuntu.com/t/graphical-desktop-in-multipass/16229">here</a>.
This tutorial, in contrast, provides a complete set of instructions for configuring and running a <a href="https://ubuntu-mate.org/">Ubuntu MATE</a> with Multipass on macOS.
This tutorial assumes you have some experience with the command-line, virtualization, Ubuntu, and macOS.</p>
</div>
<div class="olist arabic">
<div class="title">Steps</div>
<ol class="arabic">
<li>
<p>Download the Multipass installer <a href="https://multipass.run/download/macos">here</a>.</p>
</li>
<li>
<p>Run the installer and follow the directions to install Multipass.</p>
</li>
<li>
<p>Create a new VM, allocating 2 CPU&#8217;s, 4 Gigabytes of RAM, and 50 Gigabytes of disk space.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>multipass launch <span class="nt">-c</span> 2 <span class="nt">-m</span> 4G <span class="nt">-d</span> 50G
Launched: nurturing-eagle</code></pre>
</div>
</div>
</li>
<li>
<p>Launch a shell in the guest.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>multipass shell nurturing-eagle
Welcome to Ubuntu 20.04.1 LTS <span class="o">(</span>GNU/Linux 5.4.0-47-generic x86_64<span class="o">)</span>

 <span class="k">*</span> Documentation:  https://help.ubuntu.com
 <span class="k">*</span> Management:     https://landscape.canonical.com
 <span class="k">*</span> Support:        https://ubuntu.com/advantage

  System information as of Sun Sep 13 15:57:52 CDT 2020

  System load:  0.45              Processes:               136
  Usage of /:   2.6% of 48.29GB   Users logged <span class="k">in</span>:         0
  Memory usage: 5%                IPv4 address <span class="k">for </span>enp0s2: 192.168.64.2
  Swap usage:   0%


1 update can be installed immediately.
0 of these updates are security updates.
To see these additional updates run: apt list <span class="nt">--upgradable</span>


To run a <span class="nb">command </span>as administrator <span class="o">(</span>user <span class="s2">"root"</span><span class="o">)</span>, use <span class="s2">"sudo &lt;command&gt;"</span><span class="nb">.</span>
See <span class="s2">"man sudo_root"</span> <span class="k">for </span>details.</code></pre>
</div>
</div>
</li>
<li>
<p>Sync the package repositories.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">sudo </span>apt update</code></pre>
</div>
</div>
</li>
<li>
<p>Update any packages if needed.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">sudo </span>apt upgrade</code></pre>
</div>
</div>
</li>
<li>
<p>Install the Ubuntu MATE package and an <a href="https://en.wikipedia.org/wiki/Remote_Desktop_Protocol">RDP</a> server.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>ubuntu-mate-desktop xrdp</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To use the default desktop or other <a href="https://ubuntu.com/download/flavours">Ubuntu flavors</a>, substitute the respective package. For example, substitute <code>ubuntu-mate-desktop</code> with <code>ubuntu-desktop</code> to install the standard Ubuntu desktop.
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>Set a password for the default <code>ubuntu</code>.
This password will be used when making an RDP connection.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span><span class="nb">sudo </span>passwd ubuntu
New password:
Retype new password:
passwd: password updated successfully</code></pre>
</div>
</div>
</li>
<li>
<p>Back on the host, determine the IP address of the guest for the RDP session.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span>multipass info nurturing-eagle
Name:           nurturing-eagle
State:          Running
IPv4:           192.168.64.2
Release:        Ubuntu 20.04.1 LTS
Image <span class="nb">hash</span>:     995771784f85 <span class="o">(</span>Ubuntu 20.04 LTS<span class="o">)</span>
Load:           0.12 0.07 0.15
Disk usage:     4.3G out of 48.3G
Memory usage:   204.7M out of 3.8G</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here the IP address is <code>192.168.64.2</code>.</p>
</div>
</div>
</div>
</li>
<li>
<p>Install either <a href="https://docs.brew.sh/Installation">Homebrew</a> or <a href="https://www.macports.org/install.php">MacPorts</a> according to their installation instructions.</p>
</li>
<li>
<p>Install <a href="https://github.com/FreeRDP/FreeRDP/wiki/PreBuilds#mac">FreeRDP</a> with <a href="https://brew.sh">Homebrew</a> or <a href="https://www.macports.org/">MacPorts</a>.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="c"># Homebrew</span>
<span class="nv">$ </span>brew <span class="nb">install </span>xquartz
<span class="nv">$ </span>brew <span class="nb">install </span>freerdp

<span class="c"># MacPorts</span>
<span class="nv">$ </span><span class="nb">sudo </span>port <span class="nb">install </span>FreeRDP</code></pre>
</div>
</div>
</li>
<li>
<p>Connect to the guest with FreeRDP.<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup></p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">$ </span> xfreerdp /u:ubuntu /p:zorro /v:192.168.64.2 +clipboard</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command-line simply initiates an RDP connection to the guest at IP <code>192.168.64.2</code> using the username <code>ubuntu</code> and the password <code>zorro</code>.
The last flag enables a shared clipboard to allow copying and pasting between the host and virtual machine.</p>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You should now be able to create and access a virtualized Ubuntu desktop on macOS with Multipass.
What&#8217;s more, it should be a piece of cake to transfer this method to running Ubuntu from a Windows or Linux host.</p>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. <a href="https://discourse.ubuntu.com/t/installing-multipass-on-macos/8329">Multipass Discourse: Installing Multipass on macOS</a>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. <a href="https://github.com/awakecoding/FreeRDP-Manuals/blob/master/User/FreeRDP-User-Manual.markdown">FreeRDP User Manual</a>
</div>
</div>
  </div><a class="u-url" href="/easily-virtualize-ubuntu-mate-on-macos-with-multipass-index" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Handy admin and dev guides from my myriad of tinkering</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jwillikers" title="jwillikers"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://stackoverflow.com/users/9835303" title="9835303"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#stackoverflow"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
