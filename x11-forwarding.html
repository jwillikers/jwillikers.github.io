<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.21.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>X11 Forwarding - JWillikers</title>
<meta name="description" content="A Remote Instance of GNOME Terminal Viewed on macOS Catalina">


  <meta name="author" content="Jordan Williams">
  
  <meta property="article:author" content="Jordan Williams">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="JWillikers">
<meta property="og:title" content="X11 Forwarding">
<meta property="og:url" content="https://jwillikers.com/x11-forwarding">


  <meta property="og:description" content="A Remote Instance of GNOME Terminal Viewed on macOS Catalina">







  <meta property="article:published_time" content="2020-10-20T00:00:00-05:00">






<link rel="canonical" href="https://jwillikers.com/x11-forwarding">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Jordan Williams <br /> <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\"> <img alt=\"Creative Commons License\" style=\"border-width:0\"\n  src=\"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\" /></a>\n<br /> <span xmlns:dct=\"http://purl.org/dc/terms/\" href=\"http://purl.org/dc/dcmitype/Text\"\n  property=\"dct:title\" rel=\"dct:type\">JWillikers</span> by \n  <a xmlns:cc=\"http://creativecommons.org/ns#\" href=\"https://jwillikers.com\"\n  property=\"cc:attributionName\" rel=\"cc:attributionURL\">Jordan Williams</a>\n  is licensed under a \n  <a rel=\"license\" href=\"http://creativecommons.org/licenses/by-sa/4.0/\">\n  Creative Commons Attribution-ShareAlike 4.0 International License</a>",
      "url": "https://jwillikers.com/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="JWillikers Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--default">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          JWillikers
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about">About</a>
            </li><li class="masthead__menu-item">
              <a href="/categories">Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags">Tags</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      <div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="X11%20Forwarding%20GNOME%20Terminal%20on%20macOS%20Catalina.png" alt="A Remote Instance of GNOME Terminal Viewed on macOS Catalina">
</div>
<div class="title">A Remote Instance of GNOME Terminal Viewed on macOS Catalina</div>
</div>
<hr>
<div class="paragraph">
<p>Opening a graphical application on a remote machine and displaying it locally is super convenient.
With <a href="https://www.openssh.com/">OpenSSH</a> and <a href="https://www.x.org/wiki/">X11</a>, this is trivially accomplished via <em>X11 forwarding</em>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="x11_forwarding">X11 Forwarding</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This tutorial walks through running a graphical application remotely via X11 forwarding.
The local machine is assumed to be running the OpenSSH client and likewise the server is assumed to be running the OpenSSH server.
X11 must be available on both the client and server.</p>
</div>
<div class="paragraph">
<p>Although X11 is being superseded by <a href="https://wayland.freedesktop.org/">Wayland</a>, many Unix-like systems still ship with some form of X11 today.
Wayland also specifies features for compatibility with X11, so X11 forwarding might continue to work even under your system&#8217;s implementation of Wayland.
On macOS, the X11 software is available from the <a href="https://www.xquartz.org/">XQuartz project</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure the SSH server has the required <a href="https://www.x.org/archive/X11R6.8.1/doc/xauth.1.html"><code>xauth</code></a> program.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">➜ which xauth
/usr/bin/xauth</code></pre>
</div>
</div>
</li>
<li>
<p>On the SSH server, set <code>ForwardX11 yes</code> in <code>sshd_config</code> to enable X11 forwarding.</p>
<div class="listingblock">
<div class="title">/etc/ssh/sshd_config</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="ssh"><span class="k">ForwardX11</span> <span class="no">yes</span></code></pre>
</div>
</div>
</li>
<li>
<p>Open an SSH connection with X11 forwarding by adding the <code>-X</code> flag on the command-line.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">➜ ssh <span class="nt">-CX</span> mordor</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you receive a warning that the file <code>.Xauthority</code> does not exist, ignore it.
It should disappear for subsequent SSH sessions on that host.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Enable compression when using X11 forwarding with the <code>-C</code> flag, as done here, to enhance the connection&#8217;s performance.
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>If the graphical application your using requires fully trusting X11, use the <code>-Y</code> flag instead.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">➜ ssh <span class="nt">-CY</span> helms-deep</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Your keypresses can be captured on the remote machine so make sure you actually trust it.
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>From the terminal, execute a graphical application, and it will be displayed locally so long as nothing goes awry.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Execute <a href="https://wiki.gnome.org/Apps/Terminal">GNOME Terminal</a>, for instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">➜ gnome-terminal</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>If you always require X11 forwarding when connecting to a particular host, add the relevant options to enable it in your SSH client&#8217;s configuration.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="title">~/.ssh/config</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="ssh"><span class="k">Host</span> helms-deep
<span class="k">Compression</span> <span class="no">yes</span>
<span class="k">ForwardX11</span> <span class="no">yes</span>
<span class="k">ForwardX11Trusted</span> <span class="no">yes</span></code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Never indescriminately enbale X11 forwarding.
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>Optionally, background the SSH process when running a remote X11 application.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>It&#8217;s not necessary to keep a dedicated terminal open with the SSH process running.
Use the <code>-f</code> flag to execute a program on the remote machine and background the SSH process.
The following example demonstrates this by running GNOME Terminal on the remote host.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">➜ ssh <span class="nt">-CYf</span> helms-deep gnome-terminal</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You should now be able to take advantage of X11 forwarding built into OpenSSH to run graphical applications on a remote machine while viewing them locally.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="references">References</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.tiltedwindmillpress.com/product/ssh-mastery-2nd-edition/">SSH Mastery, 2nd Edition by Michael W. Lucas</a></p>
</div>
<div class="paragraph">
<p><a href="https://wiki.archlinux.org/index.php/OpenSSH#X11_forwarding">Arch Wiki: OpenSSH - X11 forwarding</a></p>
</div>
</div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://github.com/jwillikers/blog" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Jordan Williams <br /> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"> <img alt="Creative Commons License" style="border-width:0"
  src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a>
<br /> <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
  property="dct:title" rel="dct:type">JWillikers</span> by 
  <a xmlns:cc="http://creativecommons.org/ns#" href="https://jwillikers.com"
  property="cc:attributionName" rel="cc:attributionURL">Jordan Williams</a>
  is licensed under a 
  <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
  Creative Commons Attribution-ShareAlike 4.0 International License</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
