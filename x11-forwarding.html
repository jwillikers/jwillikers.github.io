<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>X11 Forwarding | JWillikers</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="X11 Forwarding" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Handy admin and dev guides from my myriad of tinkering" />
<meta property="og:description" content="Handy admin and dev guides from my myriad of tinkering" />
<link rel="canonical" href="https://jwillikers.com/x11-forwarding" />
<meta property="og:url" content="https://jwillikers.com/x11-forwarding" />
<meta property="og:site_name" content="JWillikers" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-10-20T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="X11 Forwarding" />
<script type="application/ld+json">
{"mainEntityOfPage":{"@type":"WebPage","@id":"https://jwillikers.com/x11-forwarding"},"description":"Handy admin and dev guides from my myriad of tinkering","url":"https://jwillikers.com/x11-forwarding","@type":"BlogPosting","headline":"X11 Forwarding","dateModified":"2020-10-20T00:00:00+00:00","datePublished":"2020-10-20T00:00:00+00:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://jwillikers.com/feed.xml" title="JWillikers" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="assets/css/asciidoctor.css"></head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">JWillikers</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">X11 Forwarding</h1>
    <p class="post-meta"><time class="dt-published" datetime="2020-10-20T00:00:00+00:00" itemprop="datePublished">
        Oct 20, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="X11%20Forwarding%20GNOME%20Terminal%20on%20macOS%20Catalina.jpg" alt="A Remote Instance of GNOME Terminal Viewed on macOS Catalina">
</div>
<div class="title">A Remote Instance of GNOME Terminal Viewed on macOS Catalina</div>
</div>
<hr>
<div class="paragraph">
<p>Opening a graphical application on a remote machine and displaying it locally is super convenient.
With <a href="https://www.openssh.com/">OpenSSH</a> and <a href="https://www.x.org/wiki/">X11</a>, this is trivially accomplished via <em>X11 forwading</em>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="x11_forwarding">X11 Forwarding</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This tutorial walks through running a graphical application remotely via X11 forwarding.
The local machine is assumed to be running the OpenSSH client and likewise the server is assumed to be running the OpenSSH server.
X11 must be available on both the client and server.</p>
</div>
<div class="paragraph">
<p>Although X11 is being superseded by <a href="https://wayland.freedesktop.org/">Wayland</a>, many Unix-like systems still ship with some form of X11 today.
Wayland also specifies features for compatibility with X11, so X11 forwarding might continue to work even under your system&#8217;s implementation of Wayland.
On macOS, the X11 software is available from the <a href="https://www.xquartz.org/">XQuartz project</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Ensure the SSH server has the required <a href="https://www.x.org/archive/X11R6.8.1/doc/xauth.1.html"><code>xauth</code></a> program.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">➜ which xauth
/usr/bin/xauth</code></pre>
</div>
</div>
</li>
<li>
<p>On the SSH server, set <code>ForwardX11 yes</code> in <code>sshd_config</code> to enable X11 forwarding.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>/etc/ssh/sshd_config</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre>ForwardX11 yes</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open an SSH connection with X11 forwarding by adding the <code>-X</code> flag on the command-line.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">➜ ssh <span class="nt">-CX</span> my-host</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If you receive a warning that the file <code>.Xauthority</code> does not exist, ignore it.
It should disappear for subsequent SSH sessions on that host.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Enable compression when using X11 forwarding with the <code>-C</code> flag, as done here, to enhance the connection&#8217;s performance.
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>If the graphical application your using requires fully trusting X11, use the <code>-Y</code> flag instead.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">➜ ssh <span class="nt">-CY</span> my-very-trustworthy-host</code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Your keypresses can be captured on the remote machine so make sure you actually trust it.
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>From the terminal, execute a graphical application, and it will be displayed locally so long as nothing goes awry.</p>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>Execute <a href="https://wiki.gnome.org/Apps/Terminal">GNOME Terminal</a>, for instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">➜ gnome-terminal</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>If you always require X11 forwarding when connecting to a particular host, add the relevant options to enable it in your SSH client&#8217;s configuration.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="title">~/.ssh/config</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">Host my-very-trustworthy-host
Compression <span class="nb">yes
</span>ForwardX11 <span class="nb">yes
</span>ForwardX11Trusted <span class="nb">yes</span></code></pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Never indescriminately enbale X11 forwarding.
</td>
</tr>
</table>
</div>
</div>
</div>
</li>
<li>
<p>Optionally, background the SSH process when running a remote X11 application.</p>
</li>
</ol>
</div>
<div class="openblock">
<div class="content">
<div class="paragraph">
<p>It&#8217;s not necessary to keep a dedicated terminal open with the SSH process running.
Use the <code>-f</code> flag to execute a program on the remote machine and background the SSH process.
The following example demonstrates this by running GNOME Terminal on the remote host.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="sh">➜ ssh <span class="nt">-CYf</span> my-very-trustworthy-host gnome-terminal</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="references">References</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.tiltedwindmillpress.com/product/ssh-mastery-2nd-edition/">SSH Mastery, 2nd Edition by Michael W. Lucas</a></p>
</div>
<div class="paragraph">
<p><a href="https://wiki.archlinux.org/index.php/OpenSSH#X11_forwarding">Arch Wiki: OpenSSH - X11 forwarding</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conclusion">Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You should now be able to take advantage of X11 forwarding built into OpenSSH to run graphical applications on a remote machine while viewing them locally.</p>
</div>
</div>
</div>
  </div><a class="u-url" href="/x11-forwarding" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Handy admin and dev guides from my myriad of tinkering</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/jwillikers" title="jwillikers"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://stackoverflow.com/users/9835303" title="9835303"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#stackoverflow"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
